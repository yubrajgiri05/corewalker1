;/*FB_PKG_DELIM*/

__d("PolarisPostCaptionTranslationPrompt_items.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaptionTranslationPrompt_items",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentTranslationPrompt_comment"}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentTranslationPromptQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6869499193150569"}),null);
__d("PolarisPostCommentTranslationPromptQuery.graphql",["PolarisPostCommentTranslationPromptQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"},{defaultValue:!0,kind:"LocalArgument",name:"is_caption"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"comment_id",variableName:"comment_id"},{kind:"Variable",name:"is_caption",variableName:"is_caption"}],kind:"ObjectValue",name:"data"}],concreteType:"XDTCommentTranslationResponse",kind:"LinkedField",name:"xdt_api__v1__comment_translate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"translation",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostCommentTranslationPromptQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostCommentTranslationPromptQuery",selections:c},params:{id:b("PolarisPostCommentTranslationPromptQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostCommentTranslationPromptQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostCommentTranslationPrompt_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCommentTranslationPrompt_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loading_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null}]}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostCommentTranslationPrompt.next.react",["fbt","CometPressable.react","CometRelay","FBLogger","IGDSText.react","PolarisPostCommentTranslationPromptQuery.graphql","PolarisPostCommentTranslationPrompt_comment.graphql","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.c,n=i!==void 0?i:i=b("PolarisPostCommentTranslationPromptQuery.graphql");function a(a){var e=m(36),f=a.comment$key,g=a.isCaption;a=a.textColor;var i=g===void 0?!1:g;g=a===void 0?"secondaryText":a;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j!==void 0?j:j=b("PolarisPostCommentTranslationPrompt_comment.graphql"),e[0]=a):a=e[0];a=d("CometRelay").useFragment(a,f);var k=a==null?void 0:a.pk;f=(a==null?void 0:a.has_translation)===!0;var o=a==null?void 0:a.translated_text,p=d("CometRelay").useRelayEnvironment(),q;e[1]!==p||e[2]!==k?(q=function(a){d("CometRelay").commitLocalUpdate(p,function(b){if(k==null)return;b=b.get("XDTCommentDict:"+k);b==null?void 0:b.setValue(a,"show_translation")})},e[1]=p,e[2]=k,e[3]=q):q=e[3];var r=q;e[4]!==p||e[5]!==k?(q=function(a){d("CometRelay").commitLocalUpdate(p,function(b){if(k==null)return;b=b.get("XDTCommentDict:"+k);b==null?void 0:b.setValue(a,"loading_translation")})},e[4]=p,e[5]=k,e[6]=q):q=e[6];var s=q;e[7]!==p||e[8]!==k?(q=function(a){d("CometRelay").commitLocalUpdate(p,function(b){if(k==null)return;b=b.get("XDTCommentDict:"+k);b==null?void 0:b.setValue(a,"translated_text")})},e[7]=p,e[8]=k,e[9]=q):q=e[9];var t=q;e[10]!==k||e[11]!==o||e[12]!==r||e[13]!==s||e[14]!==p||e[15]!==i||e[16]!==t?(q=function(){if(k==null)return;o!=null?r(!0):(s(!0),d("CometRelay").fetchQuery(p,n,{comment_id:k,is_caption:i}).toPromise().then(function(a){a=a==null?void 0:a.xdt_api__v1__comment_translate.translation;a!=null&&(t(a),r(!0));s(!1);c("polarisLogAction")("translateCommentSuccess")})["catch"](function(a){s(!1),c("FBLogger")("ig_web").catching(a),c("polarisLogAction")("translateCommentFailure")}))},e[10]=k,e[11]=o,e[12]=r,e[13]=s,e[14]=p,e[15]=i,e[16]=t,e[17]=q):q=e[17];q=q;if(f!==!0)return null;if((a==null?void 0:a.loading_translation)===!0){e[18]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__ptT8MaSFAMY__JHASH__"),e[18]=f):f=e[18];e[19]!==g?(f=l.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:f}),e[19]=g,e[20]=f):f=e[20];return f}if((a==null?void 0:a.show_translation)===!0){e[21]!==k||e[22]!==r?(f=function(){k!=null&&r(!1)},e[21]=k,e[22]=r,e[23]=f):f=e[23];e[24]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__S6WOgu9Fr2q__JHASH__"),e[24]=a):a=e[24];e[25]!==g?(a=l.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:a}),e[25]=g,e[26]=a):a=e[26];var u;e[27]!==f||e[28]!==a?(u=l.jsx(c("CometPressable.react"),{onPress:f,overlayDisabled:!0,children:a}),e[27]=f,e[28]=a,e[29]=u):u=e[29];return u}e[30]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__Q7Q4mAm1c2E__JHASH__"),e[30]=f):f=e[30];e[31]!==g?(a=l.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:f}),e[31]=g,e[32]=a):a=e[32];e[33]!==q||e[34]!==a?(u=l.jsx(c("CometPressable.react"),{onPress:q,overlayDisabled:!0,children:a}),e[33]=q,e[34]=a,e[35]=u):u=e[35];return u}g["default"]=a}),226);
__d("PolarisPostCaptionTranslationPrompt.next.react",["CometRelay","PolarisPostCaptionTranslationPrompt_items.graphql","PolarisPostCommentTranslationPrompt.next.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(4),f=a.isOverMedia;a=a.queryReference;f=f===void 0?!1:f;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("PolarisPostCaptionTranslationPrompt_items.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useFragment(g,a);a=g.has_translation;var i=g.pk;if(a!==!0||i==null)return null;a=f?"textOnMedia":"primaryText";e[1]!==g||e[2]!==a?(i=k.jsx(c("PolarisPostCommentTranslationPrompt.next.react"),{comment$key:g,isCaption:!0,textColor:a}),e[1]=g,e[2]=a,e[3]=i):i=e[3];return i}g["default"]=a}),98);
__d("usePolarisCommentsSortOrder",["PolarisSortCommentsUtil","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(){return i(d("PolarisSortCommentsUtil").CommentsOptionValues.TOP)}g["default"]=a}),98);
__d("usePolarisToggleFollowUserFollowMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25512772558369062"}),null);
__d("usePolarisToggleFollowUserFollowMutation.graphql",["usePolarisToggleFollowUserFollowMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"target_user_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"target_user_id",variableName:"target_user_id"}],concreteType:"XDTFriendshipStatusResponse",kind:"LinkedField",name:"xdt_api__v1__friendships__create__target_user_id",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisToggleFollowUserFollowMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisToggleFollowUserFollowMutation",selections:c},params:{id:b("usePolarisToggleFollowUserFollowMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisToggleFollowUserFollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisToggleFollowUserUnfollowMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7451536694966794"}),null);
__d("usePolarisToggleFollowUserUnfollowMutation.graphql",["usePolarisToggleFollowUserUnfollowMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"target_user_id"}],c=[{alias:null,args:[{kind:"Literal",name:"_request_data",value:{}},{kind:"Variable",name:"target_user_id",variableName:"target_user_id"}],concreteType:"XDTFriendshipStatusResponse",kind:"LinkedField",name:"xdt_api__v1__friendships__destroy__target_user_id",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisToggleFollowUserUnfollowMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisToggleFollowUserUnfollowMutation",selections:c},params:{id:b("usePolarisToggleFollowUserUnfollowMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisToggleFollowUserUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisToggleFollowUser_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisToggleFollowUser_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisToggleFollowUser",["CometRelay","FBLogger","QPLUserFlow","RelayFBConnectionHandler_UNSTABLE","gkx","polarisGetXDTUserDict","qpl","react","usePolarisToggleFollowUserFollowMutation.graphql","usePolarisToggleFollowUserUnfollowMutation.graphql","usePolarisToggleFollowUser_user.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");e.useCallback;var l=e.c,m=h!==void 0?h:h=b("usePolarisToggleFollowUserFollowMutation.graphql"),n=i!==void 0?i:i=b("usePolarisToggleFollowUserUnfollowMutation.graphql");function a(a){var e=l(9),f=d("CometRelay").useMutation(m),g=f[0];f=d("CometRelay").useMutation(n);var h=f[0];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j!==void 0?j:j=b("usePolarisToggleFollowUser_user.graphql"),e[0]=f):f=e[0];var i=d("CometRelay").useFragment(f,a),k=((f=i.friendship_status)==null?void 0:f.following)!==!0;e[1]!==k||e[2]!==i.pk||e[3]!==g||e[4]!==h?(a=function(){var a=k?c("qpl")._(379204720,"1722"):c("qpl")._(379193744,"299"),b=function(a){var b=d("RelayFBConnectionHandler_UNSTABLE").unstable_getAllConnectionsWithKey(a,a.getRoot(),c("gkx")("1746")?"PolarisFeedPageDirect__xdt_api__v1__feed__timeline__connection":"PolarisFeedPage__xdt_api__v1__feed__timeline__connection");b==null?void 0:b.forEach(function(a){var b;b=(b=a==null?void 0:a.getValue("unfollowed_users"))!=null?b:[];Array.isArray(b)&&(k?a.setValue(b.filter(function(a){return a!==i.pk}),"unfollowed_users"):a.setValue([].concat(b,[i.pk]),"unfollowed_users"))});b=c("polarisGetXDTUserDict")(a,i.pk);if(b==null){c("FBLogger")("ig_web").warn("Cannot find user to update friendship status");return}a=b.getOrCreateLinkedRecord("friendship_status","XDTRelationshipInfoDict");a.setValue(k,"following");k||b.setValue(!1,"outgoing_request")};b={onCompleted:function(){c("QPLUserFlow").endSuccess(a)},onError:function(){c("QPLUserFlow").endFailure(a,"request_failed")},optimisticUpdater:b,updater:b,variables:{target_user_id:i.pk}};if(k)return g(b);else return h(b)},e[1]=k,e[2]=i.pk,e[3]=g,e[4]=h,e[5]=a):a=e[5];f=a;a=((a=i.friendship_status)==null?void 0:a.following)===!0;var o;e[6]!==f||e[7]!==a?(o=[f,a],e[6]=f,e[7]=a,e[8]=o):o=e[8];return o}g["default"]=a}),98);